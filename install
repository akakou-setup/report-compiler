#!/usr/bin/env python3

import os, sys
import yaml
import argparse


# make volume directory
parser = argparse.ArgumentParser()
parser.add_argument('--path', default='volume')
args = parser.parse_args()

try:
    os.mkdir(args.volume)
except:
    pass

# get '.bashrc' or '.zshrc'
home = os.path.expanduser('~')

shell = os.environ['SHELL']
shell = shell.split('/')[-1]

rc_path = f'{home}/.{shell}rc'

# get name
current_dir = os.getcwd()
command_name = current_dir.split('/')[-1]

# get name
command = f'''
alias {command_name}=" \
    cd {current_dir}/volume \
    && docker-compose up"
'''.replace('  ', '')

# write file
with open(rc_path, 'a') as f:
    f.write(command)

